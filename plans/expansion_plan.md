# План расширения функциональности LocalAgent

## 1. Введение
Цель: расширить текущий набор команд LocalAgent, добавив новые категории команд и поддержку макрокоманд.

## 2. Новые категории команд

### 2.1. Файловая система (расширенная)
- `create_file`: Создание файла с содержимым.
- `create_folder`: Создание папки.
- `move_file`: Перемещение файла.
- `copy_file`: Копирование файла.
- `rename_file`: Переименование файла.
- `list_dir`: Список файлов в папке.
- `find_file`: Поиск файла по имени или маске.
- `get_file_info`: Получение информации о файле (размер, дата создания, атрибуты).
- `zip_files`: Архивация файлов.
- `unzip_file`: Разархивация файлов.

### 2.2. Процессы и приложения
- `kill_process`: Завершение процесса по имени или PID.
- `list_processes`: Список запущенных процессов.
- `start_process`: Запуск процесса с параметрами.
- `restart_app`: Перезапуск приложения.
- `check_if_running`: Проверка, запущен ли процесс.
- `set_priority`: Изменение приоритета процесса.

### 2.3. Автоматизация (расширенная)
- `type_text`: Ввод текста.
- `press_key`: Нажатие клавиши.
- `hotkey`: Комбинация клавиш (например, Ctrl+C, Win+R).
- `mouse_click`: Клик мыши по координатам.
- `mouse_move`: Перемещение курсора.
- `screenshot`: Создание скриншота.
- `wait`: Задержка в секундах.

### 2.4. Сеть и интернет (с осторожностью)
- `ping`: Пинг хоста.
- `download_file`: Скачивание файла (с подтверждением).
- `check_internet`: Проверка подключения к интернету.
- `get_ip`: Получение IP-адреса.

### 2.5. Система (расширенная)
- `get_ram_usage`: Получение информации о использовании RAM.
- `get_cpu_usage`: Получение информации о использовании CPU.
- `get_disk_space`: Получение информации о свободном месте на диске.
- `list_drives`: Список доступных дисков.
- `set_volume`: Установка громкости.
- `mute/unmute`: Отключение/включение звука.
- `sleep_pc`: Перевод компьютера в режим сна.
- `shutdown_pc`: Выключение компьютера (с подтверждением).
- `restart_pc`: Перезагрузка компьютера (с подтверждением).
- `lock_screen`: Блокировка экрана.

### 2.6. Буфер обмена
- `clipboard_copy`: Копирование в буфер обмена.
- `clipboard_paste`: Вставка из буфера обмена.
- `clipboard_get`: Получение содержимого буфера обмена.
- `clipboard_clear`: Очистка буфера обмена.

### 2.7. Текст и документы
- `read_file`: Чтение текстового файла.
- `write_file`: Запись в файл.
- `append_file`: Дозапись в файл.
- `replace_in_file`: Замена текста в файле.
- `count_lines`: Подсчет строк в файле.

### 2.8. Мультимедиа
- `play_sound`: Воспроизведение звука.
- `stop_sound`: Остановка воспроизведения.
- `open_url`: Открытие URL в браузере.
- `take_photo`: Создание фото с веб-камеры (если доступно).

### 2.9. Безопасность
- `hash_file`: Вычисление хеша файла (MD5, SHA256).
- `encrypt_file`: Шифрование файла.
- `decrypt_file`: Расшифровка файла.
- `check_hash`: Проверка целостности файла по хешу.

### 2.10. Планирование
- `schedule_command`: Планирование команды на определенное время.
- `cancel_scheduled`: Отмена запланированной команды.
- `list_scheduled`: Список запланированных команд.

### 2.11. Git и разработка
- `git_status`: Выполнение команды `git status`.
- `git_pull`: Выполнение команды `git pull`.
- `git_commit`: Выполнение команды `git commit`.
- `git_push`: Выполнение команды `git push`.
- `run_script`: Запуск скрипта (.bat, .ps1).

### 2.12. Локальные базы данных
- `sqlite_query`: Выполнение SQL-запроса к базе SQLite.
- `sqlite_insert`: Вставка данных в базу SQLite.
- `json_read`: Чтение JSON-файла.
- `json_write`: Запись в JSON-файл.

## 3. Уровни безопасности

### 3.1. SAFE (выполняются без подтверждения)
- `message`, `open_app`, `list_dir`, `get_file_info`, `clipboard_get`, `system_check`.

### 3.2. MEDIUM (с логированием)
- `create_file`, `move_file`, `type_text`, `screenshot`, `read_file`.

### 3.3. DANGEROUS (с обязательным подтверждением)
- `delete_file`, `kill_process`, `shutdown_pc`, `encrypt_file`, `run_script`.

## 4. Макрокоманды

### 4.1. Структура макрокоманды
Макрокоманды позволяют объединять несколько команд в один сценарий:

```json
{
  "command": "macro",
  "name": "backup_project",
  "steps": [
    {"command": "create_folder", "path": "D:\Backups\ProjectX"},
    {"command": "copy_file", "from": "D:\Projects\ProjectX", "to": "D:\Backups\ProjectX"},
    {"command": "zip_files", "path": "D:\Backups\ProjectX", "output": "project_backup.zip"},
    {"command": "message", "text": "✅ Backup completed!"}
  ]
}
```

### 4.2. Хранение макрокоманд
Макрокоманды будут храниться в отдельном файле `macros.json` в корне проекта.

## 5. План реализации

### 5.1. Этап 1: Подготовка
- Обновить документацию с описанием новых команд и уровней безопасности.
- Создать структуру для хранения макрокоманд.

### 5.2. Этап 2: Реализация
- Добавить новые команды в `agent.py`.
- Реализовать поддержку макрокоманд.
- Обновить обработку команд с учетом уровней безопасности.

### 5.3. Этап 3: Тестирование
- Протестировать новые команды.
- Протестировать макрокоманды.
- Убедиться в совместимости с существующими командами.

## 6. Заключение
После реализации всех этапов LocalAgent станет полноценной системой автоматизации с расширенными возможностями и поддержкой макрокоманд.